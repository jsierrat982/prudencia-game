<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- T칤tulo y Meta-tags PWA -->
    <title>"Prudencia - Tema Oscuro Moderno"</title>
    <meta name="theme-color" content="#111827"/> <!-- bg-gray-900 -->
    
    <!-- ENLACE AL MANIFEST (A칌ADIDO PWA) -->
    <link rel="manifest" href="manifest.json">

    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configuraci칩n de Tailwind para usar la fuente "Inter" (Se mantiene) -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                },
            },
        };
    </script>
    
    <style>
        /* Estilos base (se mantienen) */
        body {
            font-family: 'Inter', sans-serif;
        }
        
        /* --- CORRECCI칍N: Aplicar estilos a type="text" con inputmode="decimal" --- */
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button,
        input[type="text"][inputmode="decimal"]::-webkit-inner-spin-button,
        input[type="text"][inputmode="decimal"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"],
        input[type="text"][inputmode="decimal"] {
            -moz-appearance: textfield;
        }
        /* --- FIN CORRECCI칍N --- */

        
        /* --- ESTILOS TEMA OSCURO --- */
        
        /* CAMBIO: Eliminadas todas las variables y estilos .neumorphic-* */
        
        /* Foco de columna (Fondo sutil) */
        /* CAMBIO: Colores adaptados al tema oscuro */
        .column-highlight-th {
             background-color: #1f2937; /* bg-gray-800 */
        }
        .column-highlight-td {
             background-color: #1f2937; /* bg-gray-800 */
        }

        /* --- NUEVO: Resaltado de puntaje m치ximo --- */
        .highlight-max-score {
            /* Un verde oscuro para el fondo de la fila */
            background-color: #052e16; /* bg-green-950 */
        }
        /* Al pasar el mouse, oscurecemos un poco el verde */
        .highlight-max-score:hover {
            background-color: #064e3b; /* bg-green-800 */
        }
        /* Clases espec칤ficas para el nombre y total del jugador resaltado */
        .highlight-name {
            color: #22c55e; /* text-green-500 */
            font-weight: 600; /* semibold */
        }
        .highlight-total {
            color: #4ade80; /* text-green-400 */
        }
        /* --- FIN NUEVO --- */
    </style>
</head>
<!-- CAMBIOS: Tema Oscuro (bg-gray-950, text-gray-300) -->

    <div class="flex flex-col items-center mb-4">
    
    <img src="prudencia.png" alt="Prudencia" class="max-w-[95%] md:max-w-8xl h-auto object-contain">
    
    <img src="dados.gif" alt="Dados" class="w-24 md:w-32 h-auto -mt-6 animate-[spin_10s_linear_infinite]">
    
</div>
        <!-- Panel de Controles -->
        <!-- CAMBIOS: Estilo moderno. Fondo (bg-gray-900), borde sutil (border-gray-700/50). Eliminado .neumorphic-card -->
        <div class="bg-gray-900 p-6 rounded-xl mb-8 border border-gray-700/50 shadow-xl">
            <div class="flex flex-col md:flex-row gap-4">
                <!-- Agregar Jugador -->
                <div class="flex-grow flex gap-2">
                    <!-- CAMBIOS: Input oscuro (bg-gray-800), borde (border-gray-700), texto (text-gray-200). Eliminado .neumorphic-pressed -->
                    <input type="text" id="newPlayerInput" placeholder="Nombre del nuevo jugador" class="flex-grow w-full px-4 py-2 bg-gray-800 border border-gray-700 text-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    
                    <!-- CAMBIOS: Bot칩n s칩lido y moderno (bg-blue-600). Eliminado .neumorphic-button -->
                    <button id="addPlayerBtn" class="bg-blue-600 text-white px-5 py-2 rounded-lg font-medium transition-colors hover:bg-blue-500 shadow">
                        Agregar
                    </button>
                </div>
                
                <!-- Botones de Acci칩n -->
                <div class="flex gap-2">
                    <!-- CAMBIOS: Botones secundarios (bg-gray-800, border-gray-700), acentos de color en texto. Eliminado .neumorphic-button -->
                    <button id="resetScoresBtn" class="bg-gray-800 text-yellow-400 border border-gray-700 px-5 py-2 rounded-lg font-medium transition-colors hover:bg-gray-700 shadow">
                        Reiniciar Puntos
                    </button>
                    <!-- CAMBIOS: Botones secundarios (bg-gray-800, border-gray-700), acentos de color en texto. Eliminado .neumorphic-button -->
                    <button id="clearPlayersBtn" class="bg-gray-800 text-red-400 border border-gray-700 px-5 py-2 rounded-lg font-medium transition-colors hover:bg-gray-700 shadow">
                        Borrar Todo
                    </button>
                </div>
            </div>
        </div>

        <!-- Marcador -->
        <!-- CAMBIOS: Estilo moderno (bg-gray-900), borde sutil. Eliminado .neumorphic-card -->
        <!-- CAMBIO: Eliminado 'overflow-hidden' para permitir que 'sticky top-0' funcione -->
        <div class="bg-gray-900 rounded-xl shadow-xl border border-gray-700/50">
            <!-- Contenedor con scroll horizontal para la tabla en m칩viles -->
            <!-- CAMBIO: Agregado 'overflow-y-auto', 'max-h-[75vh]' (para scroll vertical) y 'rounded-xl' -->
            <div class="overflow-x-auto overflow-y-auto max-h-[75vh] rounded-xl">
                <table class="w-full min-w-[51rem] md:min-w-[60rem]">
                    <!-- Cabecera de la Tabla -->
                    <!-- CAMBIOS: Fondo (bg-gray-900) -->
                    <thead class="bg-gray-900">
                        <tr>
                            <!-- Columna de Jugador Fija -->
                            <!-- CAMBIOS: Fondo (bg-gray-900) y texto (text-gray-400) -->
                            <!-- NUEVO: Agregado 'top-0' y 'z-30' para cabecera fija -->
                            <th class="p-4 text-left font-semibold text-gray-400 sticky left-0 top-0 bg-gray-900 w-24 md:w-48 z-30">Jugador</th>
                            
                            <!-- Columna de Total Fija -->
                            <!-- CAMBIOS: Fondo (bg-gray-900) y texto (text-gray-400) -->
                            <!-- NUEVO: Agregado 'top-0' y 'z-30' para cabecera fija -->
                            <th class="p-4 text-center font-semibold text-gray-400 w-20 md:w-32 sticky left-[6rem] md:left-[12rem] top-0 bg-gray-900 z-30">Total</th>
                            
                            <!-- Genera las 10 rondas -->
                            <script>
                                for (let i = 1; i <= 10; i++) {
                                    // CAMBIOS: texto (text-gray-400)
                                    // NUEVO: Agregado 'sticky top-0 bg-gray-900 z-20' para cabecera fija
                                    document.write(`<th class="p-4 text-center font-semibold text-gray-400 w-16 md:w-16 sticky top-0 bg-gray-900 z-20">R${i}</th>`);
                                }
                            </script>
                        </tr>
                    </thead>
                    
                    <!-- Cuerpo de la Tabla (se llenar치 din치micamente) -->
                    <tbody id="scoreboardBody">
                        <!-- Las filas de los jugadores se insertar치n aqu칤 -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Clasificaci칩n en Tiempo Real -->
        <!-- CAMBIOS: Estilo moderno (bg-gray-900), borde sutil. Eliminado .neumorphic-card -->
        <div id="leaderboardContainer" class="bg-gray-900 p-6 rounded-xl shadow-xl mt-8 border border-gray-700/50">
            <!-- Contenedor con scroll por si hay muchos jugadores -->
            <div class="max-h-60 overflow-y-auto pr-2">
                <ol id="leaderboardList" class="space-y-3">
                    <!-- La clasificaci칩n se generar치 din치micamente aqu칤 -->
                </ol>
            </div>
        </div>
        
        <!-- Pie de p치gina simple -->
        <!-- CAMBIOS: Texto (text-gray-600) -->
        <footer class="text-center text-gray-600 mt-8">
            游 Creado por Julian Sierra T, para tu noche de juegos. 游
        </footer>
    </div>

    <!-- L칩gica de JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Referencias del DOM
            const newPlayerInput = document.getElementById('newPlayerInput');
            const addPlayerBtn = document.getElementById('addPlayerBtn');
            const resetScoresBtn = document.getElementById('resetScoresBtn');
            const clearPlayersBtn = document.getElementById('clearPlayersBtn');
            const scoreboardBody = document.getElementById('scoreboardBody');
            const leaderboardList = document.getElementById('leaderboardList');

            // Estado de la aplicaci칩n
            let players = [];

            // --- Funciones Principales ---

            /**
             * Renderiza (dibuja) el marcador completo en el DOM
             */
            function renderScoreboard() {
                // Limpia el contenido actual
                scoreboardBody.innerHTML = '';

                // --- NUEVO: Encontrar puntaje m치ximo ---
                let maxScore = -Infinity;
                let shouldHighlight = false;
                if (players.length > 0) {
                    const totals = players.map(player => 
                        player.scores.reduce((acc, score) => acc + (Number(score) || 0), 0)
                    );
                    maxScore = Math.max(...totals);
                    // Solo resaltamos si el puntaje m치ximo es positivo
                    shouldHighlight = maxScore > 0; 
                }
                // --- FIN NUEVO ---

                // Muestra mensaje si no hay jugadores
                if (players.length === 0) {
                    // CAMBIOS: Texto (text-gray-500)
                    scoreboardBody.innerHTML = `
                        <tr>
                            <td colspan="12" class="p-8 text-center text-gray-500">
                                Agregue jugadores para comenzar la partida.
                            </td>
                        </tr>
                    `;
                    // --- MODIFICADO: Llamar a renderLeaderboard incluso si est치 vac칤o ---
                    renderLeaderboard();
                    return;
                }

                // Recorre cada jugador y crea su fila
                players.forEach(player => {
                    const row = document.createElement('tr');
                    
                    // --- MODIFICADO: L칩gica de resaltado ---
                    const totalScore = player.scores.reduce((acc, score) => acc + (Number(score) || 0), 0);
                    const isMax = shouldHighlight && totalScore === maxScore;

                    row.className = 'border-b border-gray-700 last:border-b-0 hover:bg-gray-800';
                    if (isMax) { 
                        row.classList.add('highlight-max-score'); 
                    }

                    // Si la fila est치 resaltada, las celdas sticky deben heredar el fondo
                    // de la fila (bg-inherit) en lugar de tener el suyo propio (bg-gray-900)
                    const stickyBgClass = isMax ? 'bg-inherit' : 'bg-gray-900'; 
                    const nameClass = isMax ? 'highlight-name' : 'text-gray-100';
                    // --- FIN MODIFICADO ---

                    // 1. Celda de Nombre (Fija)
                    // CAMBIOS: Celda sticky (bg-gray-900) y texto (text-gray-100) -> MODIFICADO
                    row.innerHTML = `<td class="p-4 font-medium ${nameClass} sticky left-0 ${stickyBgClass} w-24 md:w-48">${player.name}</td>`;

                    // 2. CALCULAR y AGREGAR Celda de Total (Fija)
                    // --- MODIFICADO: L칩gica de resaltado para color de total ---
                    let totalColorClass;
                    if (isMax) {
                        totalColorClass = 'highlight-total';
                    } else {
                        totalColorClass = totalScore < 0 ? 'text-red-500' : 'text-blue-400';
                    }
                    // --- FIN MODIFICADO ---
                    
                    // CAMBIOS: Celda sticky (bg-gray-900) y color de total (blue/red). -> MODIFICADO
                    row.innerHTML += `
                        <td class="p-4 text-center text-2xl font-bold ${totalColorClass} sticky left-[6rem] md:left-[12rem] ${stickyBgClass} w-20 md:w-32">
                            ${totalScore}
                        </td>
                    `;


                    // 3. Celdas de Puntuaci칩n (10 rondas)
                    player.scores.forEach((score, index) => {
                        const scoreValue = (score === null || score === undefined) ? '' : score;
                        // CAMBIO: Color de texto por defecto (text-gray-200)
                        const colorClass = scoreValue < 0 ? 'text-red-500' : 'text-gray-200';
                        
                        // --- NUEVO: ID persistente para restaurar el foco ---
                        const inputId = `player-${player.id}-round-${index}`;

                        // CAMBIO "Moderno": 
                        // - Clases (bg-gray-800, border-gray-700)
                        // - El foco es un anillo azul (ring-blue-500)
                        // - Eliminado .neumorphic-pressed
                        // --- CORRECCI칍N: Cambiado type="number" a type="text" y agregado inputmode="decimal" ---
                        row.innerHTML += `
                            <td class="p-2">
                                <input 
                                    type="text" 
                                    inputmode="decimal"
                                    value="${scoreValue}"
                                    id="${inputId}" 
                                    data-player-id="${player.id}"
                                    data-round-index="${index}"
                                    class="w-full h-12 text-center text-lg ${colorClass} bg-gray-800 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                >
                            </td>
                        `;
                        // --- FIN CORRECCI칍N ---
                    });
                    
                    scoreboardBody.appendChild(row);
                });

                // --- MODIFICADO: Pasar datos a renderLeaderboard ---
                renderLeaderboard(maxScore, shouldHighlight);
            }

            /**
             * Renderiza la clasificaci칩n en tiempo real
             * --- MODIFICADO: Acepta maxScore y shouldHighlight ---
             * Si no se pasan, los calcula internamente.
             */
            function renderLeaderboard(maxScore, shouldHighlight) {
                if (!leaderboardList) return; 
                
                leaderboardList.innerHTML = '';
                
                if (players.length === 0) {
                    // CAMBIOS: Texto (text-gray-500)
                    leaderboardList.innerHTML = `
                        <li class="p-4 text-center text-gray-500">
                            Agregue jugadores para ver la clasificaci칩n.
                        </li>
                    `;
                    return;
                }

                // --- NUEVO: Calcular maxScore si no se provey칩 ---
                if (maxScore === undefined || shouldHighlight === undefined) {
                    maxScore = -Infinity;
                    const totals = players.map(player => 
                        player.scores.reduce((acc, score) => acc + (Number(score) || 0), 0)
                    );
                    if (totals.length > 0) {
                        maxScore = Math.max(...totals);
                    }
                    shouldHighlight = maxScore > 0;
                }
                // --- FIN NUEVO ---
                
                const rankedPlayers = players.map(player => {
                    const total = player.scores.reduce((acc, score) => acc + (Number(score) || 0), 0);
                    return { name: player.name, total: total };
                });
                
                rankedPlayers.sort((a, b) => b.total - a.total);
                
                const medals = ['游볞', '游볟', '游볠'];
                
                rankedPlayers.forEach((player, index) => {
                    const li = document.createElement('li');
                    
                    // --- MODIFICADO: L칩gica de resaltado ---
                    const isMax = shouldHighlight && player.total === maxScore;
                    // Usamos un verde m치s notorio aqu칤 para el podio
                    const liBgClass = isMax ? 'bg-green-900' : 'bg-gray-800'; 
                    li.className = `flex justify-between items-center ${liBgClass} p-3 rounded-lg`;
                    
                    const rankSpan = document.createElement('span');
                    // CAMBIOS: Texto de ranking (text-gray-400)
                    rankSpan.className = 'text-lg font-bold w-12 text-center text-gray-400';
                    rankSpan.textContent = medals[index] || `${index + 1}.`;
                    
                    const nameSpan = document.createElement('span');
                    // CAMBIOS: Texto de nombre (text-gray-100) -> MODIFICADO
                    const nameClass = isMax ? 'text-green-400 font-semibold' : 'text-gray-100';
                    nameSpan.className = `text-lg font-medium grow px-4 truncate ${nameClass}`;
                    nameSpan.textContent = player.name;
                    nameSpan.title = player.name; 
                    
                    const scoreSpan = document.createElement('span');
                    // CAMBIOS: Color de acento (text-blue-400) -> MODIFICADO
                    const scoreClass = isMax ? 'text-green-300' : 'text-blue-400';
                    scoreSpan.className = `text-xl font-bold ${scoreClass} w-16 text-right`;
                    scoreSpan.textContent = player.total;
                    // --- FIN MODIFICADO ---
                    
                    li.appendChild(rankSpan);
                    li.appendChild(nameSpan);
                    li.appendChild(scoreSpan);
                    
                    leaderboardList.appendChild(li);
                });
            }


            /**
             * Agrega un nuevo jugador
             */
            function addPlayer() {
                const name = newPlayerInput.value.trim();
                if (name) {
                    players.push({ id: Date.now(), name: name, scores: Array(10).fill(null) });
                    newPlayerInput.value = '';
                    renderScoreboard(); 
                    // Enfocar el input de nuevo para agregar m치s jugadores
                    newPlayerInput.focus();
                }
            }
            
            /**
             * Reinicia las puntuaciones
             */
            function resetScores() {
                 if (players.length === 0) return;
                 showModal('Reiniciar Puntuaciones?', '쮼st치s seguro de que quieres poner a cero todas las puntuaciones? Los jugadores no se borrar치n.', () => {
                    players.forEach(player => { player.scores.fill(null); });
                    renderScoreboard();
                 });
            }
            
            /**
             * Borra todos los jugadores
             */
            function clearPlayers() {
                if (players.length === 0) return;
                showModal('쮹orrar Todo?', '쮼st치s seguro de que quieres borrar a todos los jugadores? Esta acci칩n no se puede deshacer.', () => {
                    players = [];
                    renderScoreboard();
                });
            }

            /**
             * Maneja la entrada de puntuaci칩n
             * --- MODIFICADO: Redibuja todo pero restaura el foco ---
             */
            function handleScoreInput(event) {
                const input = event.target;
                
                if (input.tagName === 'INPUT' && input.dataset.playerId) {
                    const playerId = Number(input.dataset.playerId);
                    const roundIndex = Number(input.dataset.roundIndex);
                    // --- CORRECCI칍N: Validar que el valor sea num칠rico o vac칤o ---
                    const rawValue = input.value;
                    // Permitir n칰meros, un signo negativo al inicio, o estar vac칤o
                    if (!/^-?\d*$/.test(rawValue)) {
                        // Si no es v치lido, revertir al valor anterior (no es perfecto, pero previene NaN)
                        const player = players.find(p => p.id === playerId);
                        input.value = player.scores[roundIndex] || '';
                        return;
                    }
                    const value = rawValue === '' ? null : Number(rawValue);
                    // --- FIN CORRECCI칍N ---

                    
                    // CAMBIO: Actualizar color del input (text-gray-200 es el default)
                    if (value < 0) {
                        input.classList.add('text-red-500');
                        input.classList.remove('text-gray-200');
                    } else {
                        input.classList.remove('text-red-500');
                        input.classList.add('text-gray-200');
                    }
                    
                    const player = players.find(p => p.id === playerId);
                    if (player) {
                        player.scores[roundIndex] = value;
                        
                        // --- MODIFICADO ---
                        // Guardamos el ID del input que tiene el foco
                        // y la posici칩n del cursor
                        const focusedInputId = input.id;
                        const selectionStart = input.selectionStart;
                        const selectionEnd = input.selectionEnd;

                        // Redibujamos todo para actualizar totales,
                        // resaltado de m치ximo puntaje y podio.
                        renderScoreboard(); 
                        
                        // Devolvemos el foco al input
                        const newFocusedInput = document.getElementById(focusedInputId);
                        if (newFocusedInput) {
                            newFocusedInput.focus();
                            // Restauramos la posici칩n del cursor
                            // --- CORRECCI칍N: Esto ahora funciona porque es type="text" ---
                            newFocusedInput.selectionStart = selectionStart;
                            newFocusedInput.selectionEnd = selectionEnd;
                        }
                        // --- FIN MODIFICADO ---
                    }
                }
            }
            
            /**
             * Limpia cualquier resaltado de columna
             */
            function clearColumnHighlights() {
                document.querySelectorAll('.column-highlight-th').forEach(th => th.classList.remove('column-highlight-th'));
                document.querySelectorAll('.column-highlight-td').forEach(td => td.classList.remove('column-highlight-td'));
            }

            /**
             * Resalta una columna completa basada en el 칤ndice de la ronda
             */
            function highlightColumn(roundIndex) {
                clearColumnHighlights();
                
                // +3 porque las primeras 2 columnas son Jugador y Total
                const columnIndex = roundIndex + 3; 
                
                const header = document.querySelector(`thead th:nth-child(${columnIndex})`);
                if (header) header.classList.add('column-highlight-th');
                
                const cells = document.querySelectorAll(`#scoreboardBody tr td:nth-child(${columnIndex})`);
                cells.forEach(cell => cell.classList.add('column-highlight-td'));
            }
            
            /**
             * --- ELIMINADO ---
             * La funci칩n updatePlayerTotal ya no es necesaria,
             * renderScoreboard() se encarga de todo.
             */
             // function updatePlayerTotal(row, player) { ... }


            /**
             * Muestra un modal de confirmaci칩n personalizado.
             * CAMBIOS: Modal Oscuro
             */
            function showModal(title, message, onConfirm) {
                const overlay = document.createElement('div');
                // CAMBIO: Overlay m치s oscuro
                overlay.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
                
                const modal = document.createElement('div');
                // CAMBIOS: Modal (bg-gray-900) y borde
                modal.className = 'bg-gray-900 rounded-xl p-6 max-w-sm w-full border border-gray-700 shadow-xl';
                
                modal.innerHTML = `
                    <!-- CAMBIOS: Texto (text-gray-100) -->
                    <h3 class="text-xl font-semibold mb-2 text-gray-100">${title}</h3>
                    <!-- CAMBIOS: Texto (text-gray-300) -->
                    <p class="text-gray-300 mb-6">${message}</p>
                    <div class="flex justify-end gap-3">
                        <!-- CAMBIOS: Bot칩n Cancelar (bg-gray-800) -->
                        <button id="modalCancel" class="px-4 py-2 bg-gray-800 text-gray-300 border border-gray-700 rounded-lg hover:bg-gray-700">Cancelar</button>
                        <!-- CAMBIOS: Bot칩n Confirmar (bg-red-600) -->
                        <button id="modalConfirm" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-500">Confirmar</button>
                    </div>
                `;
                
                overlay.appendChild(modal);
                document.body.appendChild(overlay);
                
                document.getElementById('modalCancel').onclick = () => {
                    document.body.removeChild(overlay);
                };
                
                document.getElementById('modalConfirm').onclick = () => {
                    onConfirm();
                    document.body.removeChild(overlay);
                };
            }

            // --- Asignaci칩n de Eventos ---

            addPlayerBtn.addEventListener('click', addPlayer);
            newPlayerInput.addEventListener('keyup', (event) => {
                if (event.key === 'Enter') {
                    addPlayer();
                }
            });
            resetScoresBtn.addEventListener('click', resetScores);
            clearPlayersBtn.addEventListener('click', clearPlayers);

            // 'input' se dispara cada vez que se cambia el valor
            scoreboardBody.addEventListener('input', handleScoreInput);
            
            // Listeners para el foco de columna
            scoreboardBody.addEventListener('focusin', (event) => {
                const input = event.target;
                if (input.tagName === 'INPUT' && input.dataset.roundIndex) {
                    highlightColumn(Number(input.dataset.roundIndex));
                }
            });

            scoreboardBody.addEventListener('focusout', (event) => {
                const input = event.target;
                if (input.tagName === 'INPUT' && input.dataset.roundIndex) {
                    clearColumnHighlights();
                }
            });

            // --- Carga Inicial ---
            renderScoreboard();
        });

        // --- SCRIPT DE REGISTRO DEL SERVICE WORKER (A칌ADIDO PWA) ---
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registrado con 칠xito: ', registration.scope);
                    })
                    .catch(error => {
                        console.log('Fallo en el registro de ServiceWorker: ', error);
                    });
            });
        }
    </script>

</body>

</html>





